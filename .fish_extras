#!/bin/fish

# Fuck GO
#set -gx GOROOT /usr/local/go
#set -gx PATH $PATH:$GOROOT/bin

#set -gx GOPATH $HOME/golib
#set -gx PATH $PATH:$GOPATH/bin
#set -gx GOPATH $GOPATH:$HOME/github-repo/golang

if status is-interactive
    # pk-command-not-found is super slow in some cases,
    # so ask if we need it.
    function fish_command_not_found
        set -l prompt_stat

        function __fish_command_not_found_ask -S
            read -n1 -p "echo -n 'Call pk-command-not-found?[y/n]: '" prompt_stat
        end

        __fish_command_not_found_ask
        if string match -qi 'y' $prompt_stat
            /usr/libexec/pk-command-not-found $argv
        else if string match -qi 'n' $prompt_stat
            functions -e __fish_command_not_found_ask
            return 127
        else
            fish_command_not_found $argv
        end
    end

    set __all_dnf_shorts update update-refresh update-nometaref ins ins-nometaref ins-refresh metacache clean clean-all search searchq list list-largest
    echo (set_color brcyan)"DNF functions:"
    for __dnf_short in $__all_dnf_shorts
        echo (set_color green)"    $__dnf_short"(set_color normal)
    end
end
